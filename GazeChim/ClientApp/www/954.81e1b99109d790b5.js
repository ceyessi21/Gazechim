"use strict";(self.webpackChunkGazeChim_Angular=self.webpackChunkGazeChim_Angular||[]).push([[954],{954:(h,o,r)=>{r.r(o),r.d(o,{NativeAudio:()=>l,NativeAudioWeb:()=>u});var a=r(5861),n=r(7423);class d{constructor(t){this.audio=t}}class u extends n.Uw{constructor(){super({name:"NativeAudio",platforms:["web"]})}resume(t){var s=this;return(0,a.Z)(function*(){const e=s.getAudioAsset(t.assetId).audio;if(e.paused)return e.play()})()}pause(t){var s=this;return(0,a.Z)(function*(){return s.getAudioAsset(t.assetId).audio.pause()})()}getCurrentTime(t){var s=this;return(0,a.Z)(function*(){return{currentTime:s.getAudioAsset(t.assetId).audio.currentTime}})()}getDuration(t){var s=this;return(0,a.Z)(function*(){const e=s.getAudioAsset(t.assetId).audio;if(Number.isNaN(e.duration))throw"no duration available";if(!Number.isFinite(e.duration))throw"duration not available => media resource is streaming";return{duration:e.duration}})()}configure(t){return(0,a.Z)(function*(){throw`configure is not supported for web: ${JSON.stringify(t)}`})()}preload(t){return(0,a.Z)(function*(){var s;if(u.AUDIO_ASSET_BY_ASSET_ID.has(t.assetId))throw"AssetId already exists. Unload first if like to change!";if(null===(s=t.assetPath)||void 0===s||!s.length)throw"no assetPath provided";if(!t.isUrl&&!new RegExp("^/?"+u.FILE_LOCATION).test(t.assetPath)){const i=t.assetPath.startsWith("/")?"":"/";t.assetPath=`${u.FILE_LOCATION}${i}${t.assetPath}`}const e=new Audio(t.assetPath);e.autoplay=!1,e.loop=!1,e.preload="auto",t.volume&&(e.volume=t.volume),u.AUDIO_ASSET_BY_ASSET_ID.set(t.assetId,new d(e))})()}play(t){var s=this;return(0,a.Z)(function*(){var e;const i=s.getAudioAsset(t.assetId).audio;return yield s.stop(t),i.loop=!1,i.currentTime=null!==(e=t.time)&&void 0!==e?e:0,i.play()})()}loop(t){var s=this;return(0,a.Z)(function*(){const e=s.getAudioAsset(t.assetId).audio;return yield s.stop(t),e.loop=!0,e.play()})()}stop(t){var s=this;return(0,a.Z)(function*(){const e=s.getAudioAsset(t.assetId).audio;e.pause(),e.loop=!1,e.currentTime=0})()}unload(t){var s=this;return(0,a.Z)(function*(){yield s.stop(t),u.AUDIO_ASSET_BY_ASSET_ID.delete(t.assetId)})()}setVolume(t){var s=this;return(0,a.Z)(function*(){if("number"!=typeof t?.volume)throw"no volume provided";s.getAudioAsset(t.assetId).audio.volume=t.volume})()}isPlaying(t){var s=this;return(0,a.Z)(function*(){return{isPlaying:!s.getAudioAsset(t.assetId).audio.paused}})()}getAudioAsset(t){if(this.checkAssetId(t),!u.AUDIO_ASSET_BY_ASSET_ID.has(t))throw`no asset for assetId "${t}" available. Call preload first!`;return u.AUDIO_ASSET_BY_ASSET_ID.get(t)}checkAssetId(t){if("string"!=typeof t)throw"assetId must be a string";if(!t?.length)throw"no assetId provided"}}u.FILE_LOCATION="assets/sounds",u.AUDIO_ASSET_BY_ASSET_ID=new Map;const l=new u}}]);